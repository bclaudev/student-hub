{"ast":null,"code":"export const handleOtpRequest = async (usernameOrPhone, setNotification, setOtpRequested) => {\n  if (!usernameOrPhone.trim()) {\n    setNotification({\n      message: 'Please input a valid username or phone number.',\n      borderColor: '#8D0C0C',\n      bgColor: '#E3D8D8',\n      textColor: '#6A0202'\n    });\n    return;\n  }\n  setNotification({\n    message: 'Nice work! Please check your phone or email for a One-Time Password (OTP) to complete the login process.',\n    borderColor: '#474747',\n    bgColor: '#F2F2F2',\n    textColor: '#2E2E2E'\n  });\n  try {\n    const response = await fetch('http://localhost:4000/api/auth/send-otp', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        usernameOrPhone\n      })\n    });\n    if (response.ok) {\n      setOtpRequested(true);\n      console.log(`OTP requested for ${usernameOrPhone}`);\n    } else {\n      const data = await response.json();\n      setNotification({\n        message: data.message || 'Failed to send OTP. Please try again.',\n        borderColor: '#8D0C0C',\n        bgColor: '#E3D8D8',\n        textColor: '#6A0202'\n      });\n    }\n  } catch (error) {\n    console.error('Error requesting OTP:', error);\n    setNotification({\n      message: 'An error occurred while sending OTP. Please try again.',\n      borderColor: '#8D0C0C',\n      bgColor: '#E3D8D8',\n      textColor: '#6A0202'\n    });\n  }\n};","map":{"version":3,"names":["handleOtpRequest","usernameOrPhone","setNotification","setOtpRequested","trim","message","borderColor","bgColor","textColor","response","fetch","method","headers","body","JSON","stringify","ok","console","log","data","json","error"],"sources":["D:/github/student-hub/frontend/src/pages/LoginPage/handleOtpRequest.js"],"sourcesContent":["export const handleOtpRequest = async (\r\n    usernameOrPhone,\r\n    setNotification,\r\n    setOtpRequested\r\n  ) => {\r\n    if (!usernameOrPhone.trim()) {\r\n      setNotification({\r\n        message: 'Please input a valid username or phone number.',\r\n        borderColor: '#8D0C0C',\r\n        bgColor: '#E3D8D8',\r\n        textColor: '#6A0202',\r\n      });\r\n      return;\r\n    }\r\n  \r\n    setNotification({\r\n      message: 'Nice work! Please check your phone or email for a One-Time Password (OTP) to complete the login process.',\r\n      borderColor: '#474747',\r\n      bgColor: '#F2F2F2',\r\n      textColor: '#2E2E2E',\r\n    });\r\n  \r\n    try {\r\n      const response = await fetch('http://localhost:4000/api/auth/send-otp', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ usernameOrPhone }),\r\n      });\r\n  \r\n      if (response.ok) {\r\n        setOtpRequested(true);\r\n        console.log(`OTP requested for ${usernameOrPhone}`);\r\n      } else {\r\n        const data = await response.json();\r\n        setNotification({\r\n          message: data.message || 'Failed to send OTP. Please try again.',\r\n          borderColor: '#8D0C0C',\r\n          bgColor: '#E3D8D8',\r\n          textColor: '#6A0202',\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error requesting OTP:', error);\r\n      setNotification({\r\n        message: 'An error occurred while sending OTP. Please try again.',\r\n        borderColor: '#8D0C0C',\r\n        bgColor: '#E3D8D8',\r\n        textColor: '#6A0202',\r\n      });\r\n    }\r\n  };\r\n  "],"mappings":"AAAA,OAAO,MAAMA,gBAAgB,GAAG,MAAAA,CAC5BC,eAAe,EACfC,eAAe,EACfC,eAAe,KACZ;EACH,IAAI,CAACF,eAAe,CAACG,IAAI,CAAC,CAAC,EAAE;IAC3BF,eAAe,CAAC;MACdG,OAAO,EAAE,gDAAgD;MACzDC,WAAW,EAAE,SAAS;MACtBC,OAAO,EAAE,SAAS;MAClBC,SAAS,EAAE;IACb,CAAC,CAAC;IACF;EACF;EAEAN,eAAe,CAAC;IACdG,OAAO,EAAE,0GAA0G;IACnHC,WAAW,EAAE,SAAS;IACtBC,OAAO,EAAE,SAAS;IAClBC,SAAS,EAAE;EACb,CAAC,CAAC;EAEF,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,yCAAyC,EAAE;MACtEC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEd;MAAgB,CAAC;IAC1C,CAAC,CAAC;IAEF,IAAIQ,QAAQ,CAACO,EAAE,EAAE;MACfb,eAAe,CAAC,IAAI,CAAC;MACrBc,OAAO,CAACC,GAAG,CAAC,qBAAqBjB,eAAe,EAAE,CAAC;IACrD,CAAC,MAAM;MACL,MAAMkB,IAAI,GAAG,MAAMV,QAAQ,CAACW,IAAI,CAAC,CAAC;MAClClB,eAAe,CAAC;QACdG,OAAO,EAAEc,IAAI,CAACd,OAAO,IAAI,uCAAuC;QAChEC,WAAW,EAAE,SAAS;QACtBC,OAAO,EAAE,SAAS;QAClBC,SAAS,EAAE;MACb,CAAC,CAAC;IACJ;EACF,CAAC,CAAC,OAAOa,KAAK,EAAE;IACdJ,OAAO,CAACI,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC7CnB,eAAe,CAAC;MACdG,OAAO,EAAE,wDAAwD;MACjEC,WAAW,EAAE,SAAS;MACtBC,OAAO,EAAE,SAAS;MAClBC,SAAS,EAAE;IACb,CAAC,CAAC;EACJ;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}